inline int foo (int x) {
  int r;

  * // time-consuming operation on x, result stored in r

  return r;    
}
